<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Test</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
</head>
<body>
    <input type="button" onclick="hitungUang(1000, 1)" value="hitung"/>
    <div><span>Jumlah</span><input id="jumlah"/></div>
    <div><span>Lembar</span><input id="lembar"/></div>
</body>
<script>
    function hitungUangByLembar(jumlah, lembar) {
        jumlah_txt = $('#jumlah').val();
        lembar_txt = $('#lembar').val();
        result = hitungUang2(parseInt(jumlah_txt), parseInt(lembar_txt));
        console.log(result);

    }
    function hitungUang2(jumlah, lembar, tmpResult) {
        pecahan = [100000,50000,20000,10000,5000,2000,1000,500,200,100]
        result = typeof tmpResult == 'undefined'? []: tmpResult;
        for(var i in pecahan) {
            if(jumlah >= pecahan[i]) {

                hitung_lembar = Math.floor(jumlah / pecahan[i]);
                sisa_sementara = jumlah - (pecahan[i] * hitung_lembar);
                break;
            }
        }
    }
    function hitungUang(jumlah, lembar) {
        jumlah_txt = $('#jumlah').val();
        lembar_txt = $('#lembar').val();
        result = hitungUang1(parseInt(jumlah_txt), parseInt(lembar_txt));
        console.log(result);

    }
    function hitungUang1(jumlah, lembar, tmpResult) {
        result = typeof tmpResult == 'undefined'? []: tmpResult;
        

        pecahan = [100000,50000,20000,10000,5000,2000,1000,500,200,100]
        hitung_lembar = 0;
        
        
        sisa_sementara = 0
        for(var i in pecahan) {
            if(jumlah >= pecahan[i]) {
                hitung_lembar = Math.floor(jumlah / pecahan[i]);
                sisa_sementara = jumlah - (pecahan[i] * hitung_lembar);
                break;
            }
        }
        result.push([pecahan[i],hitung_lembar]);
        if (sisa_sementara>0) {
            hitungUang1(sisa_sementara, 0, result);
        }
        //console.log(hitung_lembar);
        //console.log(sisa_sementara);
        
        return result;
    }
</script>
</html>